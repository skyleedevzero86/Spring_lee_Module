<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë©”ì‹œì§€ ì‘ì„±</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container mt-5">
    <div class="row">
        <div class="col-12">
            <nav class="navbar navbar-expand-lg navbar-light bg-light mb-4">
                <div class="container-fluid">
                    <span class="navbar-brand">ğŸ“± ì¹´ì¹´ì˜¤ ë©”ì‹œì§€</span>
                    <div class="navbar-nav ms-auto">
                        <a class="nav-link" href="/">í™ˆ</a>
                        <a class="nav-link" href="/message">ì¹´ì¹´ì˜¤ ë©”ì‹œì§€</a>
                        <a class="nav-link" href="/email">ì´ë©”ì¼</a>
                        <a class="nav-link" href="/logout">ë¡œê·¸ì•„ì›ƒ</a>
                    </div>
                </div>
            </nav>
        </div>
    </div>

    <div class="row mb-4" th:if="${userInfo != null}">
        <div class="col-12">
            <div class="card bg-light">
                <div class="card-body">
                    <h6 class="card-title">ğŸ‘¤ ë¡œê·¸ì¸ ì •ë³´</h6>
                    <p class="mb-1"><strong>ë‹‰ë„¤ì„:</strong> <span th:text="${userInfo.nickname != null ? userInfo.nickname : 'ì•Œ ìˆ˜ ì—†ìŒ'}"></span></p>
                    <p class="mb-0"><strong>ì´ë©”ì¼:</strong> <span th:text="${userInfo.email != null ? userInfo.email : 'ì•Œ ìˆ˜ ì—†ìŒ'}"></span></p>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-6">
            <div class="card">
                <div class="card-header">
                    <h5>ğŸ“¤ í”¼ë“œ ë©”ì‹œì§€ ë³´ë‚´ê¸°</h5>
                </div>
                <div class="card-body">
                    <form action="/send/feed" method="post">
                        <div class="mb-3">
                            <label for="title" class="form-label">ì œëª©</label>
                            <input type="text" class="form-control" id="title" name="title"
                                   value="ì˜¤ëŠ˜ì˜ ë””ì €íŠ¸" required>
                        </div>
                        <div class="mb-3">
                            <label for="description" class="form-label">ì„¤ëª…</label>
                            <textarea class="form-control" id="description" name="description"
                                      rows="3" required>ì•„ë©”ë¦¬ì¹´ë…¸, ë¹µ, ì¼€ìµ</textarea>
                        </div>
                        <div class="mb-3">
                            <label for="imageUrl" class="form-label">ì´ë¯¸ì§€ URL</label>
                            <input type="url" class="form-control" id="imageUrl" name="imageUrl"
                                   value="https://mud-kage.kakao.com/dn/NTmhS/btqfEUdFAUf/FjKzkZsnoeE4o19klTOVI1/openlink_640x640s.jpg"
                                   required>
                        </div>
                        <div class="mb-3">
                            <label for="webUrl" class="form-label">ì›¹ URL</label>
                            <input type="url" class="form-control" id="webUrl" name="webUrl"
                                   value="https://www.daum.net" required>
                        </div>

                        <div class="card bg-light mb-3">
                            <div class="card-body">
                                <h6 class="card-title">ğŸ“§ ì´ë©”ì¼ ì•Œë¦¼ ì„¤ì •</h6>
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="emailNotification" name="emailNotification">
                                    <label class="form-check-label" for="emailNotification">
                                        ì¹´ì¹´ì˜¤ ë©”ì‹œì§€ ë°œì†¡ ê²°ê³¼ë¥¼ ì´ë©”ì¼ë¡œ ì•Œë¦¼ ë°›ê¸°
                                    </label>
                                </div>
                                <div class="mb-2" id="emailInputGroup" style="display: none;">
                                    <label for="notificationEmail" class="form-label">ì•Œë¦¼ ë°›ì„ ì´ë©”ì¼</label>
                                    <input type="email" class="form-control" id="notificationEmail" name="notificationEmail"
                                           placeholder="example@email.com">
                                </div>
                            </div>
                        </div>

                        <button type="submit" class="btn btn-primary">ï¿½ï¿½ í”¼ë“œ ë©”ì‹œì§€ ë³´ë‚´ê¸°</button>
                    </form>
                </div>
            </div>
        </div>

        <div class="col-md-6">
            <div class="card">
                <div class="card-header">
                    <h5>ğŸ”— ìŠ¤í¬ë© ë©”ì‹œì§€ ë³´ë‚´ê¸°</h5>
                </div>
                <div class="card-body">
                    <form action="/send/scrap" method="post">
                        <div class="mb-3">
                            <label for="url" class="form-label">ìŠ¤í¬ë©í•  URL</label>
                            <input type="url" class="form-control" id="url" name="url"
                                   value="https://developers.kakao.com" required>
                            <div class="form-text">
                                <strong>âš ï¸ ì¤‘ìš”:</strong> ì¹´ì¹´ì˜¤ ê°œë°œì ì½˜ì†”ì—ì„œ ë“±ë¡í•œ ë„ë©”ì¸ë§Œ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.
                            </div>
                        </div>

                        <div class="alert alert-info">
                            <h6>âœ… í—ˆìš©ëœ ë„ë©”ì¸ ëª©ë¡:</h6>
                            <ul class="mb-0">
                                <li><code>developers.kakao.com</code></li>
                                <li><code>www.daum.net</code></li>
                                <li><code>daum.net</code></li>
                                <li><code>localhost</code> (ê°œë°œìš©)</li>
                            </ul>
                            <small class="text-muted">
                                ë‹¤ë¥¸ ë„ë©”ì¸ì„ ì‚¬ìš©í•˜ë ¤ë©´ ì¹´ì¹´ì˜¤ ê°œë°œì ì½˜ì†”ì—ì„œ ë“±ë¡í•´ì•¼ í•©ë‹ˆë‹¤.
                            </small>
                        </div>

                        <div class="card bg-light mb-3">
                            <div class="card-body">
                                <h6 class="card-title">ğŸ“§ ì´ë©”ì¼ ì•Œë¦¼ ì„¤ì •</h6>
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="scrapEmailNotification" name="emailNotification">
                                    <label class="form-check-label" for="scrapEmailNotification">
                                        ìŠ¤í¬ë© ë©”ì‹œì§€ ë°œì†¡ ê²°ê³¼ë¥¼ ì´ë©”ì¼ë¡œ ì•Œë¦¼ ë°›ê¸°
                                    </label>
                                </div>
                                <div class="mb-2" id="scrapEmailInputGroup" style="display: none;">
                                    <label for="scrapNotificationEmail" class="form-label">ì•Œë¦¼ ë°›ì„ ì´ë©”ì¼</label>
                                    <input type="email" class="form-control" id="scrapNotificationEmail" name="notificationEmail"
                                           placeholder="example@email.com">
                                </div>
                            </div>
                        </div>

                        <button type="submit" class="btn btn-success">ğŸ”— ìŠ¤í¬ë© ë©”ì‹œì§€ ë³´ë‚´ê¸°</button>
                    </form>
                </div>
            </div>

            <div class="card mt-4">
                <div class="card-header">
                    <h5>ğŸ‘€ ë¯¸ë¦¬ë³´ê¸°</h5>
                </div>
                <div class="card-body">
                    <div class="border p-3 rounded bg-light">
                        <div class="d-flex">
                            <img id="previewImage" src="https://mud-kage.kakao.com/dn/NTmhS/btqfEUdFAUf/FjKzkZsnoeE4o19klTOVI1/openlink_640x640s.jpg"
                                 class="rounded me-3" style="width: 80px; height: 80px; object-fit: cover;">
                            <div>
                                <h6 id="previewTitle" class="mb-1">ì˜¤ëŠ˜ì˜ ë””ì €íŠ¸</h6>
                                <p id="previewDescription" class="text-muted small mb-2">ì•„ë©”ë¦¬ì¹´ë…¸, ë¹µ, ì¼€ìµ</p>
                                <small class="text-muted">ğŸ‘ 100 ğŸ’¬ 200</small>
                            </div>
                        </div>
                        <div class="mt-2">
                            <button class="btn btn-sm btn-outline-primary">ì›¹ìœ¼ë¡œ ë³´ê¸°</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
    document.getElementById('title').addEventListener('input', function() {
        document.getElementById('previewTitle').textContent = this.value;
    });

    document.getElementById('description').addEventListener('input', function() {
        document.getElementById('previewDescription').textContent = this.value;
    });

    document.getElementById('imageUrl').addEventListener('input', function() {
        document.getElementById('previewImage').src = this.value;
    });

    document.getElementById('emailNotification').addEventListener('change', function() {
        const emailInputGroup = document.getElementById('emailInputGroup');
        if (this.checked) {
            emailInputGroup.style.display = 'block';
            document.getElementById('notificationEmail').required = true;
        } else {
            emailInputGroup.style.display = 'none';
            document.getElementById('notificationEmail').required = false;
        }
    });

    document.getElementById('scrapEmailNotification').addEventListener('change', function() {
        const emailInputGroup = document.getElementById('scrapEmailInputGroup');
        if (this.checked) {
            emailInputGroup.style.display = 'block';
            document.getElementById('scrapNotificationEmail').required = true;
        } else {
            emailInputGroup.style.display = 'none';
            document.getElementById('scrapNotificationEmail').required = false;
        }
    });
</script>
</body>
</html>